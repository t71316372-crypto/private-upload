<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Images Test - Debug</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

<script>
console.log("SCRIPT START");

const SUPABASE_URL = "https://erdwkchgsewnzkyriypx.supabase.co";
const SUPABASE_KEY = "sb_publishable_p7r9MOIEw4RT7ptaJ8_Arg_nbli69_J";

// ★修正: 変数名を 'supabase' ではなく 'client' に変更
// これでライブラリ名と衝突しなくなります
const client = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

async function testList() {
  console.log("LIST START");

  // 変数名を 'client' に合わせたので、こちらでも client を使う
  const { data, error } = await client
    .storage
    .from("images")
    .list("", { limit: 100 });

  console.log("--- RESULT ---");
  if (error) {
    console.error("ERROR:", error);
  } else {
    console.log("DATA (Found Files):", data);
  }
}

testList();
</script>

</body>
</html>
