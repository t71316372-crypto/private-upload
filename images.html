<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Images Test</title>
</head>
<body>

<script>
console.log("SCRIPT START");

const SUPABASE_URL = "https://erdwkchgsewnzkyriypx.supabase.co";
const SUPABASE_ANON_KEY = "sb_publishable_p7r9MOIEw4RT7ptaJ8_Arg_nbli69_J";
const BUCKET = "images";

console.log("CONFIG OK");

async function testList() {
  console.log("LIST START");

  const res = await fetch(
    `${SUPABASE_URL}/storage/v1/object/list/${BUCKET}`,
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${SUPABASE_ANON_KEY}`,
        "apikey": SUPABASE_ANON_KEY
      },
body: JSON.stringify({
  prefix: "",
  limit: 100
})


    }
  );

  console.log("STATUS", res.status);
  const data = await res.json();
  console.log("RAW RESPONSE", data);
}

testList();
</script>

</body>
</html>
