<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Final Fix</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <h1>Supabase List Test</h1>
  <script>
    // 競合を避けるために変数名を 'sb' に変更
    const URL = "https://erdwkchgsewnzkyriypx.supabase.co";
    const KEY = "sb_publishable_p7r9MOIEw4RT7ptaJ8_Arg_nbli69_J";

    // ここが10行目：絶対に 'const supabase' と書かない！
    const sb = window.supabase.createClient(URL, KEY);

    async function run() {
      console.log("TEST START");
      const { data, error } = await sb.storage.from("images").list();
      
      if (error) {
        console.error("ERROR:", error);
      } else {
        console.log("DATA SUCCESS:", data);
      }
    }
    run();
  </script>
</body>
</html>
